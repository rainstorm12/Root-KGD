# 多相流数据整理

## 流程描述：

![image-20240422151602790](C:\Users\15805\AppData\Roaming\Typora\typora-user-images\image-20240422151602790.png)

克兰菲尔德大学的三相流动设施旨在为加压系统提供受控和测量的水、油和空气流速。图1显示了该设施的简化示意图。试验区由不同孔径和几何形状的管道组成，以及位于10.5米高平台顶部的气液两相分离器（直径0.5米，高1.2米）。它可以以所需的速率供应单相空气、水和油，或这些流体的混合物。最后，在地面的11m3水平三相分离器（GS500）中分离流体混合物。空气返回大气，油和水的乳液在返回各自的储罐（T200和T100）之前在各自的聚结器（CW500和CO500，两者的容量约为1.5m3）中分离。两个储罐的容量约为12.5 m3。

空气由两个压缩机的接头提供，这两个压缩机能够在0.7MPa下输送高达0.4m3/s的流速。压缩空气被接收在8m3的容器（R300）中以抑制压力波动，然后，它被过滤掉液滴和颗粒，并在通过空气流量计FT305和控制空气流量的气动阀VC302之前被冷却。水和油储存在储罐T100和T200中，然后通过多级Grundfos CR90-5泵（PO1和PO2）独立供应，每台泵在1MPa下可提供高达0.0278m3/s的流量，其转速由变频逆变器控制。水流量由FT104测量，油流量由FT204测量。水和油的流速分别由气动阀VC101和VC201控制。

混合后，流体可以通过直径为4“的流动环路流动，该环路具有55米长、2°向下倾斜的管道，通向10.5米高的悬链线立管，也可以通过2”的流动环路，该环路是40米长的水平管道，连接到10.5米长的垂直立管。两条出油管线均与两相分离器相连，但可通过出油管线两端的手动阀组相互隔离。在本基准案例中采用的所有实验中，除了研究特定故障（故障案例6）外，仅使用了4“线路，其中也涉及2”线路。在钻机中，有一条可供选择的4”管线，可将流体从混合点直接输送至三相分离器，绕过立管和顶部分离器。这条线被标记为“BYPASS”，并在图1中用红色虚线标记。

在混合点（PT312）之前的空气供应管线处，以及在提升管底部（PT401）、提升管顶部（PT408）、顶部分离器（PT403）内部和三相分离器（PT501）内部的4”管线处，都有测量压力的传感器。提升管顶部4“管线中的流速可通过FT407进行测量，FT407还可提供密度和温度的测量结果。FT406提供顶部分离器底部出口处的质量流速、密度和温度的测量值。顶部分离器内部的液位由LI405测量，并由VC402控制。三相分离器的压力由VC501控制，而不同相之间的液位分别由LI502和LI504测量。此外，通过PT417测量立管底部2“管线中的压力。为简便起见，图1中未显示控制聚结器中各相之间液位的阀门和传感器。整个系统使用德尔塔V（艾默生电气公司，2014）进行管理，德尔塔V是艾默生过程管理公司提供的一种基于现场总线的监控和数据采集（SCADA）系统。可以检索、处理和可视化不同变量的带时间戳的数据。数据也可以保存以进行后处理。

在这项研究中，所有数据都是以1Hz的采样率采集的。所使用的变量包括24个不同的过程变量（见表1）和两个过程输入（空气和水流量设定点）。变量编号24（混合区2“管线中的压力，PT417）仅包括在故障案例6的分析中，而前23个变量用于所有研究的故障案例以及算法训练。在所有实验中仅使用空气和水，并且三相分离器总是被加压到0.1MPa

## 变量描述：

![image-20240422165835467](C:\Users\15805\AppData\Roaming\Typora\typora-user-images\image-20240422165835467.png)

为了获得表示正常操作条件的数据，从系统中获取了三个数据集（T1、T2和T3）。在试验过程中，有意改变空气和水流速的设定值，以从在可变操作条件下工作的过程中获得数据。为了确保正常操作期间的条件具有代表性，对三个训练数据集中的每一个测试了20种不同的空气和水流速组合（见表2）。在其中的每一个中，流动条件都发生了变化，尽管并不相同，以获得在不同方向（增量或减量）发生的各种大、小、长和慢的过程变化。操作条件下的这种变化的目的是确保在所有情况下都能捕捉到系统的动态。选择这些设定点是为了覆盖设施可以通过VC101和VC302提供的可用流速范围，避免流速过低，以确保引入的条件不会在立管中产生缓动。表2表示在实验期间选择的典型空气和水流量设置点，而图2显示了在每个训练数据集期间测量的空气和水流速。

![image-20240422170219734](C:\Users\15805\AppData\Roaming\Typora\typora-user-images\image-20240422170219734.png)

除了训练数据集之外，在向系统中植入六个不同的故障后，还从在故障条件下工作的系统中获取了不同的数据集。这些故障用于模拟真实系统中可能出现的典型故障，如管道堵塞、系统操作错误或异常操作条件。这些故障是在正常运行一段时间后引入的，目的是调查健康指标的变化。这些故障在可能的情况下逐渐引入，以观察故障的严重程度如何影响指示器。在达到一定的严重程度后，故障状态被消除，使系统恢复到正常状态。关于不同数据集的故障开始时间和故障结束时间的详细信息，可以在相应故障场景的描述中找到。在这些测试过程中，流量条件以与正常操作类似的方式发生了变化。在恒定流速条件下采集的额外数据集允许观察故障对不同测量变量的影响，而不会因空气和水流速的变化而产生干扰。表3总结了测试的不同故障。每个小节都解释了故障是如何引入的，以及有关数据集持续时间、流量条件和引入或消除故障的时刻的详细信息，这些信息汇总在表格中。

![image-20240422170346440](C:\Users\15805\AppData\Roaming\Typora\typora-user-images\image-20240422170346440.png)

故障情况1：空气管路堵塞。就在空气、水和油供应管线在混合点连接之前，每条管线都有单独的手动阀。该故障案例中引入的故障是逐渐关闭空气管路的手动阀，模拟随着时间的推移而形成的空气堵塞。使用附在阀门上的量角器测量阀门角度，以记录故障演变，但该测量不包括在用于监测的测量列表中。在实验开始时，阀门完全打开（正常条件），然后，阀门逐渐关闭，以引入模拟堵塞的故障条件。对于该故障情况，采集了三个数据集，其中一组在不断变化的操作条件下（1.1），另外两组具有恒定的空气和水流量（1.2和1.3，见表4）。

![image-20240422171517134](C:\Users\15805\AppData\Roaming\Typora\typora-user-images\image-20240422171517134.png)



故障情况2：水管线堵塞。该故障与故障情况1中引入的故障完全相同，不同之处在于，在该故障情况下，水管路阀逐渐关闭，以模拟堵塞，而不是空气管线阀。尽管故障与空气管路堵塞相似，但预计后果会有所不同。主要原因是空气和水的物理性质（尤其是密度和粘度）有很大不同。对于这种故障情况，采集了三个数据集，一个在不断变化的操作条件下（2.1），另外两个在恒定空气和水流量下（2.2和2.3，见表5）。

![image-20240422171532884](C:\Users\15805\AppData\Roaming\Typora\typora-user-images\image-20240422171532884.png)



故障情况3：顶部分离器输入堵塞。在这种故障情况下，引入的故障类型类似于空气和水管线堵塞。主要区别在于，此故障案例中涉及的阀门为VC404（顶部分离器输入）。阀门可以在控制室远程操作，并且可以精确地观察角度位置。这允许精确观察故障严重程度如何影响状态监测性能。同样，该测量不包括在用于故障检测和诊断的数据分析中。在大多数情况下，由于球阀的固有特性，故障首先会快速演变：在这种类型的阀门中，压降的变化对于全开位置附近的阀门位置几乎是微不足道的，但对全关位置附近的变化要敏感得多。对于该故障情况，采集了三个数据集，其中一个在不断变化的操作条件下（3.1），另外两个在恒定的空气和水流量下（3.2和3.3，见表6）。

![image-20240422171636674](C:\Users\15805\AppData\Roaming\Typora\typora-user-images\image-20240422171636674.png)



故障情况4：打开直接旁路。在故障模式4下，模拟了立管底部的泄漏，导致测试区域缺乏流量。4“旁通管线可将混合点后的多相流引导至三相分离器，绕过立管。在这条替代管线的起点和终点都有阀门，将其与系统的其他部分隔离，在正常情况下，阀门总是关闭的。这些阀门在试验过程中逐渐打开，以引导立管底部的流量通过旁通管线，模拟此时的泄漏。对于该故障情况，采集了三个数据集，一个数据集在不断变化的运行（4.1）条件下，另两个数据集具有恒定的空气和水流量（4.2和4.3，见表7）。

![image-20240422171648823](C:\Users\15805\AppData\Roaming\Typora\typora-user-images\image-20240422171648823.png)



故障情况5：撞击条件。段塞（Jansen，Shoham，&Taitel，1996）是一种瞬态现象，当气体和液体的速度相对较低时，在具有多相流的立管中可能发生。液体往往会积聚在提升管的底部，阻塞气流。由于这种堵塞，压力建立在堵塞上，直到它足以将液体（和气体）冲洗出提升管。在这种喘振之后，留在提升管中的液体下降，形成新的堵塞，并再次开始循环。这种现象在海上石油生产系统中是典型的，在该系统中，多相碳氢化合物流体从油田沿着海床上的长管道流动到连接到海上石油钻井平台上分离过程的立管。它会在压力和流速上产生大幅度波动，从而影响和损坏设备（Ogazi，Cao，Yeung，&Lao，2010）。断层是通过将空气和水的流速降低到产生撞击的状态而引入的。在试验过程中，流速在正常和撞击条件的不同点上变化。对于该故障情况，采集了2个数据集；两者都在不断变化的操作条件下（见表8）。对于数据集5.1，在实验过程中引入和消除了两次缓震条件（在表8中称为故障1和故障2），而对于数据集5.2，在实验的三个不同阶段引入了缓震（在表中称为事故1、故障2和故障3）。

![image-20240422171708715](C:\Users\15805\AppData\Roaming\Typora\typora-user-images\image-20240422171708715.png)



故障情况6：2“管线增压。在之前介绍的故障案例中，4“管线用于将水流输送至立管顶部。在这些条件下，2”管线与系统的其他部分完全隔离，因此不应对其加压。在提升管的顶部，就在顶部分离器的输入之前，有一个带阀门的桥接器，连接4“和2”管线。故障是由于打开了该桥接阀，但使2“的两侧与安装的其余部分隔离。该故障条件的目的是模拟系统的异常操作，该异常操作在实际过程中可能导致性能或输出产品质量下降，甚至安全问题。该故障不会影响4”管线或钻机其他部分的流动条件，但会对2”管线加压。在这种特殊的故障情况下，测量了一个额外的变量并将其包括在分析中。该变量是PT417在2“管线中立管底部测量的压力。对于这种故障情况，采集了2个数据集（6.1和6.2），这两个数据集都处于不断变化的操作条件下（见表9）。

![image-20240422171717733](C:\Users\15805\AppData\Roaming\Typora\typora-user-images\image-20240422171717733.png)

